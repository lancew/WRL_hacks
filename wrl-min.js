"use strict";var Limit=$.url().param("limit")||localStorage.getItem("limit")||3,Country=$.url().param("country")||localStorage.getItem("country")||"";function countryFlagHTML(value){return value.ioc.search("OJU|PJC|EJU|AJU|JUA|IJF")?'<li><img src="blank.gif"class="flag flag-'+value.ioc+'" alt="'+Country+' flag"> <span><a href="/?country='+value.ioc+'&limit=9999">'+value.name+"</a></li>":""}$.url().param("top")&&(Country="",Limit=$.url().param("top")),$(function(){var LocalCountry=""===Country?"ijf":Country;$("#judobase").html('<iframe height="350px"scrolling="no"width="200px"frameborder="0"src="https://data.judobase.org/widget/latest_videos/'+LocalCountry.toLowerCase()+'?age=sen"></iframe>')}),$.getJSON("https://data.judobase.org/api/get_json?params[action]=country.get_list",function(data){var html="";$.each(data,function(key,value){html+=countryFlagHTML(value)}),$("#nations").html(html)}),$.getJSON("https://data.judobase.org/api/get_json?params[action]=wrl.by_category&params[category_limit]="+Limit,function(data){var TotalAthletes=0,BottomMover={Change:"",Athlete:""},TopFemale={points:0,athlete:""},TopMale={points:0,athlete:""},TopMover={Change:"",Athlete:""};$.url().param("country")&&localStorage.setItem("country",""+$.url().param("country")),$.url().param("limit")&&localStorage.setItem("limit",$.url().param("limit")),$.each(data.categories,function(index,value){$("#text").append("<h2>"+value.name+"</h2>"),$.each(value.competitors,function(index2,athlete){if(athlete.country_short===Country||""===Country){var DeltaText,Delta=Math.abs(athlete.place_prev-athlete.place);athlete.place<athlete.place_prev?(DeltaText="&#8599;"+Delta+" position(s)",BottomMover.Change<Delta&&(BottomMover.Change=Delta,BottomMover.DeltaText=DeltaText,BottomMover.Athlete=athlete)):athlete.place>athlete.place_prev?(DeltaText="&#8600;"+Delta+" position(s)",TopMover.Change<Delta&&(TopMover.Change=Delta,TopMover.DeltaText=DeltaText,TopMover.Athlete=athlete)):(Delta="",DeltaText="&#8594; No change in position."),"f"===athlete.gender&&Number(athlete.points)>Number(TopFemale.points)&&(TopFemale=athlete),"m"===athlete.gender&&Number(athlete.points)>Number(TopMale.points)&&(TopMale=athlete),$("#text").append(athlete.place+") "+athlete.family_name+", "+athlete.given_name+" ("+athlete.country_short+") "+DeltaText+" ("+athlete.points+" points) <br />"),TotalAthletes++}}),$("#loading").html("")}),TopMover.Athlete&&$("#no1_faller").html(TopMover.DeltaText+"  positions: <br />"+TopMover.Athlete.family_name+" "+TopMover.Athlete.given_name+" "+TopMover.Athlete.weight_name),BottomMover.Athlete&&$("#no1_climber").html(BottomMover.DeltaText+"  positions  <br />"+BottomMover.Athlete.family_name+" "+BottomMover.Athlete.given_name+" "+BottomMover.Athlete.weight_name),TopMale.points&&$("#top_male").html(TopMale.family_name+" "+TopMale.given_name+" "+TopMale.points+" points"),TopFemale.points&&$("#top_female").html(TopFemale.family_name+" "+TopFemale.given_name+" "+TopFemale.points+" points"),$("#total_athletes").html(TotalAthletes),Country&&$("#country").html('<img src="blank.gif"class="flag flag-'+Country+'" alt="'+Country+' flag"> <span>'+Country+"</span>")});